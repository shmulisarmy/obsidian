<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>obsidian</title>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
      <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
      <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
      <style>
        .link{
            color: blue;
            cursor: pointer;
            font-weight: bold;
            text-decoration: underline;

        }
      </style>
</head>
<body>


    <div id="root"></div>
    


    <script type="text/babel">


function Link({page_name, go_to}){
    return(
        <span>
            <span onClick={(() => go_to(page_name))} className="link">
                {`[${page_name}]`} 
                </span>
                {" "}
        </span>
    )
}


        function App(){
            const [page, setpage] = React.useState(pages["start"]);
            const [placeHolder, rerender] = React.useState(true)
            
            
            const words = page.split(" ");

            function go_to(page_name){
                if (!(page_name in pages)){
                    pages[page_name] = "this is a new page"
                }
                setpage(pages[page_name])
            }

            function add_text_to_page(string, page_name){
                pages[page_name] += string
                rerender(!placeHolder)
            }

            const ready_page = words.map(word => word[0] === "[" && word[word.length - 1] === "]" ? <Link page_name={word.slice(1, -1)} go_to={go_to} /> : `${word} `)
            const ref = React.createRef()

            return(
                <main>

                    {ready_page}

                    <input type="text" ref={ref} onChange={(e) => add_text_to_page(e.target.value, page)} />
                    <button onClick={() => add_text_to_page(ref.current.value, page)}>submit</button>
                                        
                    
                </main>


            )
        }


        const pages = {
            start: "this is the first first page that i am on, hahhahahha another page that i can look at is the [todo] page",
            todo: "this is the page for todos anotehr page is the [about] page",
            about: "this links [back] to [start]"
        }



     ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
